
<!DOCTYPE html>
<html>
<head>
  <script src="https://unpkg.com/konva@8.3.5/konva.min.js"></script>
  <meta charset="utf-8" />
  <title>Konva Drag and Drop a Line Demo</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #f0f0f0;
    }
  </style>
</head>
<body>
<div id="container"></div>
<script>
  var width = window.innerWidth;
  var height = window.innerHeight;

  var stage = new Konva.Stage({
    container: 'container',
    width: width,
    height: height,
  });

  var layer = new Konva.Layer();

  var blueGroup = new Konva.Group({
    x: 40,
    y: 70,
    draggable: true,
  });

  blueGroup.on('dragmove', () => {
    blueGroup.y(Math.max(blueGroup.y(), 50));
  });

  const blueRect = new Konva.Circle({
    x: width / 2,
    y: 50,
    radius: 10,
    fill: 'green'
  });

  blueGroup.add(blueRect);
  layer.add(blueGroup);
  stage.add(layer);

  const source = new Konva.Circle({
    x: width / 2,
    y: 50,
    radius: 10,
    fill: 'green'
  });
  layer.add(source);

  const target1 = new Konva.Circle({
    x: width / 2,
    y: 750,
    radius: 10,
    fill: 'red',
    name: 'target'
  });
  layer.add(target1);

  // complex dashed and dotted line
  var blueLine = new Konva.Line({
    x: width / 2,
    y: 50,
    points: [0, 500, 0, 0],
    stroke: 'blue',
    strokeWidth: 10,
    draggable: true,
  });

  layer.add(blueLine);
  stage.add(layer);
</script>
</body>
</html>